{% extends 'base.html' %}
{% block title %}Equipe{% endblock %}

{% block content %}
<h1 class="text-2xl font-semibold mb-4">Médias por equipe</h1>

<div class="rounded-2xl border border-slate-200 bg-white shadow-sm overflow-hidden">
  <table class="min-w-full text-sm">
    <thead class="bg-slate-100 text-slate-700">
      <tr>
        <th class="text-left px-4 py-3 font-medium">Equipe</th>
        <th class="text-left px-4 py-3 font-medium">Métrica</th>
        <th class="text-right px-4 py-3 font-medium">Média</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-slate-100">
      {% for r in agg %}
      <tr class="hover:bg-slate-50">
        <td class="px-4 py-3">{{ r.collaborator__equipe|default:"—" }}</td>
        <td class="px-4 py-3 capitalize">{{ r.metric_type__code|default:"—"|cut:"_"|capfirst }}</td>
        <td class="px-4 py-3 text-right">{{ r.media|floatformat:2 }}</td>
      </tr>
      {% empty %}
      <tr>
        <td class="px-4 py-6 text-slate-500 text-center" colspan="3">Sem dados agregados ainda.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
